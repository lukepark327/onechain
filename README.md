[[:us: | English | ì˜ì–´]](https://github.com/twodude/onechain)
[[:kr: | Korean | í•œêµ­ì–´]](https://github.com/twodude/onechain/tree/korean)

---

[![license](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![version](https://img.shields.io/badge/version-v2.2.0-orange.svg)](https://github.com/twodude/onechain/blob/master/package.json)
[![node](https://img.shields.io/badge/node-%3E%3D4.3.2-yellow.svg)](https://nodejs.org/en/)   

# one-chain
ê°€ì¥ ê°„ê²°í•œ ë¸”ë¡ì²´ì¸.

<!--
![onechain](https://github.com/twodude/onechain/blob/master/images/icon.png)
-->

ì†ì‰¬ìš´ ë¸”ë¡ì²´ì¸ ì½”ì–´ ê°œë°œì„ ë³´ì¡°í•œë‹¤.
> [2018 ì œ12íšŒ ê³µê°œSW ê°œë°œìëŒ€íšŒ](https://project.oss.kr)   
> ë‹¤ìŒ ì½”ë“œë¥¼ ì°¸ì¡°í•¨: [lhartikk/naivechain](https://github.com/lhartikk/naivechain)   

## ìš”ì•½
![structure](https://github.com/twodude/onechain/blob/master/images/structure.png)

ë¸”ë¡ì²´ì¸ ê¸°ë°˜ ì„œë¹„ìŠ¤ê°€ ì„±ì¥í•˜ë©´ì„œ ë¸”ë¡ì²´ì¸ ì½”ì–´ ê°œë°œì„ ìœ„í•œ ì˜¤í”ˆì†ŒìŠ¤ì˜ í•„ìš”ì„±ì´ ëŒ€ë‘ë˜ì—ˆë‹¤. ì´ë¯¸ ë¹„íŠ¸ì½”ì¸ì´ë‚˜ ì´ë”ë¦¬ì›€ê³¼ ê°™ì€ ì—¬ëŸ¬ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì´ ìˆì§€ë§Œ, ë³µì¡ë„ê°€ ë†’ì•„ ë‹¤ë£¨ê¸° ê¹Œë‹¤ë¡­ê³  êµìœ¡ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°ì—ë„ ì–´ë ¤ìš´ ì‹¤ì •ì´ë‹¤.

ë¸”ë¡ì²´ì¸ì˜ ê¸°ë³¸ ì›ì¹™ì„ ê°€ì¥ ê°„ê²°í•œ ë°©ë²•ìœ¼ë¡œ êµ¬í˜„í•œ `ì›ì²´ì¸(one-chain)`ì„ ì´ìš©í•˜ë©´ ìœ„ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤. **ì›ì²´ì¸ì€ ë¸”ë¡ì²´ì¸ ì½”ì–´ì˜ ë‹¨ìˆœí•œ êµ¬í˜„ì²´ì´ë‹¤.** ì›ì²´ì¸ì€ ëª¨ë“ˆí˜• ë””ìì¸ì„ ì±„íƒí–ˆë‹¤: ë¸”ë¡ì²´ì¸, ë„¤íŠ¸ì›Œí¬, API, ê·¸ë¦¬ê³  ì§€ê°‘ ë ˆì´ì–´ë¡œ êµ¬ë¶„í•¨ìœ¼ë¡œì¨ ë³µì¡í•œ ì½”ë“œë¥¼ ë³´ë‹¤ ëª…ë£Œí•˜ê²Œ ì „ë‹¬í•œë‹¤. ì´ ì½”ë“œ ë° ë¬¸ì„œì— ê¸°ì´ˆí•˜ì—¬ ëˆ„êµ¬ë‚˜ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ í•˜ì˜€ë‹¤.

ì›ì²´ì¸ì˜ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œëŠ” ëª¨ë‘ ìë°”ìŠ¤í¬ë¦½íŠ¸(Node.jsì™€ Vue.js)ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë‚˜ ìˆ˜ë„-ì½”ë“œ(pseudo-code) ìŠ¤íƒ€ì¼ë¡œ ì‘ì„±ë˜ì–´ ê°œë°œìê°€ ì–¸ì–´ì— êµ¬ì• ë°›ì§€ ì•Šë„ë¡ í•˜ì˜€ë‹¤.

## ì‚¬ìš© ì‚¬ë¡€

* ğŸ“– ì»´í“¨í„°ê³¼í•™ìœ¼ë¡œ ë°°ìš°ëŠ” ë¸”ë¡ì²´ì¸ ì›ë¦¬ì™€ êµ¬í˜„
  - [Chapter-1](https://github.com/twodude/onechain/tree/chapter-1)
  - [Chapter-2](https://github.com/twodude/onechain/tree/chapter-2)
  - [Chapter-3](https://github.com/twodude/onechain/tree/chapter-3)
  - [Chapter-4](https://github.com/twodude/onechain/tree/chapter-4)

[![book-cover](https://github.com/twodude/onechain/blob/master/images/book-cover.png)](http://www.yes24.com/Product/Goods/75235536)

> ì±… êµ¬ë§¤ í˜ì´ì§€ë¡œ ì´ë™í•˜ê³ ì í•œë‹¤ë©´ ìœ„ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ì‹œì˜¤.

* ë¸”ë¡ì²´ì¸ ê¸°ë°˜ ê±°ë²„ë„ŒìŠ¤ ì‹œë®¬ë ˆì´í„° : ìŠ¤ë§ˆíŠ¸ì‹œí‹° ì‚¬ë¡€ë¥¼ ë°”íƒ•ìœ¼ë¡œ
  - [ë…¼ë¬¸](http://www.dbpia.co.kr/Journal/ArticleDetail/NODE07614082)

* ë¸”ë¡ì²´ì¸ ì •ì±… ì‹œë®¬ë ˆì´í„°
  - [BBR í•´ì»¤í†¤ ìš°ìˆ˜ìƒ](http://www.breview.kr) [Excellence Award](http://decenter.sedaily.com/NewsView/1S639FV540)
  - [ë°ëª¨ ì˜ìƒ](https://www.youtube.com/watch?v=aFcnPziT4FE)
  - [ì½”ë“œ](https://github.com/twodude/blockchain-simulator)

* edu-chain
  - [ì½”ë“œ](https://github.com/twodude/educhain)   

* Plasma DAG
  - [ì½”ë“œ](https://github.com/plasma-dag/plasma-client)

<!--
* Noonsatae
  - [Avalanche Implementation](https://github.com/noonsatae)
-->

# ì‹œì‘í•˜ê¸°

## í™˜ê²½
- Node.js v8.11.3
- cURL 7.55.1 *ë˜ëŠ”* Postman v6.4.4

## Dependencies ì„¤ì¹˜
```bash
npm install
```
## ë…¸ë“œ êµ¬ë™í•˜ê¸°

### ë…¸ë“œ #1 ì‹œì‘í•˜ê¸°
```bash
npm start
```

### ë…¸ë“œ #2 ì‹œì‘í•˜ê¸°

* HTTP í†µì‹ ì„ ìœ„í•´ HTTP_PORT ì„¤ì •í•˜ê¸°

  ```$env:HTTP_PORT=3002```
  *ë˜ëŠ”*
  ```export HTTP_PORT=3002```

* í”¼ì–´ ê°„ P2P í†µì‹ ì„ ìœ„í•´ P2P_PORT ì„¤ì •í•˜ê¸°

  ```$env:P2P_PORT=6002```
  *ë˜ëŠ”*
  ```export P2P_PORT=6002```

* (*ì„ íƒ*) êµ¬ë™ ì „ ë¯¸ë¦¬ ì—°ê²°ëœ PEERS ì„¤ì •í•˜ê¸°

  ```$env:PEERS="ws://127.0.0.1:6001[, ws://127.0.0.1:6003, ...]"```
  *ë˜ëŠ”*
  ```export PEERS="ws://127.0.0.1:6001[, ws://127.0.0.1:6003, ...]"```

* (*ì„ íƒ*) private_keyê°€ ì €ì¥ë  ìœ„ì¹˜ì¸ PRIVATE_KEY ì„¤ì •í•˜ê¸°

  ```$env:PRIVATE_KEY="second"```
  *ë˜ëŠ”*
  ```export PRIVATE_KEY="second"```

  ì´ì œ private_keyëŠ” ê¸°ë³¸ê°’ì¸ `./wallet/default/` ëŒ€ì‹  `./wallet/second/`ì— ì €ì¥ëœë‹¤.

```bash
npm start
```

# ì‚¬ìš©í•˜ê¸°
[![video](https://user-images.githubusercontent.com/24687378/55283674-5d346400-53a3-11e9-9e85-baaca23cac78.jpg)](https://youtu.be/ZRbr3VIUHuA)   
> ë™ì˜ìƒ í˜ì´ì§€ë¡œ ì´ë™í•˜ê³ ì í•œë‹¤ë©´ ìœ„ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ì‹œì˜¤.

### ë¸”ë¡ì²´ì¸ ìš”ì²­
```bash
curl http://127.0.0.1:3001/blocks
```

ê°€ë…ì„±ì„ ìœ„í•´ pretty-print JSONì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤:
```bash
curl http://127.0.0.1:3001/blocks | python -m json.tool
```
Python >= 2.6ì´ ìš”êµ¬ëœë‹¤.

### íŠ¹ì • ë¸”ë¡ ìš”ì²­
```bash
curl http://127.0.0.1:3001/block/:number
```

ì˜ˆë¥¼ ë“¤ì–´, ë¸”ë¡ ë²ˆí˜¸(ì¸ë±ìŠ¤)ê°€ 3ì¸ ë¸”ë¡ì„ ìš”ì²­í•´ë³´ì:

```bash
curl http://127.0.0.1:3001/block/3
```

### ìƒˆ ë¸”ë¡ ì¶”ê°€
```bash
curl -X POST http://127.0.0.1:3001/mineBlock
curl -H "Content-type:application/json" --data "{\"data\" : [\"Anything you want\", \"Anything you need\"]}" http://127.0.0.1:3001/mineBlock
```

### ì—°ê²°ëœ í”¼ì–´(peer) ìš”ì²­
```bash
curl http://127.0.0.1:3001/peers
```

### í”¼ì–´ ì¶”ê°€
```bash
curl -H "Content-type:application/json" --data "{\"peers\" : [\"ws://127.0.0.1:6002\", \"ws://127.0.0.1:6003\"]}" http://127.0.0.1:3001/addPeers
```

### ì£¼ì†Œ ìš”ì²­
```bash
curl http://127.0.0.1:3001/address
```

### ì§€ê°‘ ìƒì„±
```bash
curl -X POST http://127.0.0.1:3001/createWallet
```

### ì§€ê°‘ ì‚­ì œ
```bash
curl -X POST http://127.0.0.1:3001/deleteWallet
```

### ì¤‘ì§€
```bash
curl -X POST http://127.0.0.1:3001/stop
```

# one-chain íƒìƒ‰ê¸°
![explorer](https://github.com/twodude/onechain/blob/master/images/explorer.png)

**`one-chain íƒìƒ‰ê¸°`ëŠ” ë¸”ë¡ì²´ì¸ ìƒíƒœë¥¼ ì‹œê°í™”í•˜ëŠ” ë¸”ë¡ì²´ì¸ íƒìƒ‰ê¸°ì´ë‹¤.** ë¸”ë¡ì²´ì¸ íƒìƒ‰ê¸°ë¥¼ í†µí•´ ìµœì‹  ë¸”ë¡ì„ í™•ì¸í•˜ê±°ë‚˜ íŠ¹ì • ë¸”ë¡ì˜ ìƒì„¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ì•Œë‹¤ì‹œí”¼ ì›ì²´ì¸ì€ ì´ë¯¸ ì—¬ëŸ¬ ê¸°ëŠ¥ì˜ HTTP ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì œê³µí•œë‹¤. ì›¹ í˜ì´ì§€ëŠ” ë‹¨ìˆœíˆ ì´ë¥¼ í˜¸ì¶œí•´ ê²°ê³¼ë¥¼ ì‹œê°í™”í•œë‹¤.

ì „ì²´ UI ì½”ë“œëŠ” `./explorer/`ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. êµ¬í˜„ì— Vue.js ë° Vuetifyê°€ ì‚¬ìš©ë˜ì—ˆë‹¤.

# ì‹œì‘í•˜ê¸°
```bash
cd explorer
npm install
```

## êµ¬ë™í•˜ê¸°

**ìš”êµ¬ì‚¬í•­:** `HTTP_PORT`ê°€ `3001`ì¸ ë…¸ë“œê°€ êµ¬ë™ ì¤‘ì´ì–´ì•¼ í•œë‹¤.

```bash
npm run serve
```

ì´ì œ ì•±ì€ ê¸°ë³¸ì ìœ¼ë¡œ http://localhost:8080/ ì—ì„œ êµ¬ë™ëœë‹¤. 'í¬ë¡¬(Chrome) ë¸Œë¼ìš°ì €'ì˜ ì‚¬ìš©ì´ ê¶Œì¥ëœë‹¤.

# ì‚¬ìš©í•˜ê¸°

* íŠ¹ì • ë¸”ë¡ì€ ë²ˆí˜¸ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤. ê²€ìƒ‰ ë°”(bar)ì— ì…ë ¥í•˜ê±°ë‚˜ `BLOCK #N` ë²„íŠ¼ì„ í´ë¦­í•˜ì‹œì˜¤.

* ë§Œì¼ ë¸”ë¡ì²´ì¸ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì í•˜ê³ ì í•œë‹¤ë©´, í˜ì´ì§€ ìƒë‹¨ì˜ 'Realtime Updates' ìŠ¤ìœ„ì¹˜ë¥¼ í™œì„±í™”í•œë‹¤. ì´ëŠ” í’€ë…¸ë“œ(full-node)ì—ê²Œ ë¸”ë¡ì²´ì¸ì„ ìš”ì²­í•˜ëŠ” `/blocks` GET ìš”ì²­ì„ ë§¤ 2ì´ˆë§ˆë‹¤ ì „ì†¡í•œë‹¤.

# ë¼ì´ì„ ìŠ¤
one-chain í”„ë¡œì íŠ¸ëŠ” [Apache License, Version 2.0](https://opensource.org/licenses/Apache-2.0) ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¥´ë©°, ë ˆí¬ì§€í† ë¦¬ì˜ [LICENSE](https://github.com/twodude/onechain/blob/master/LICENSE) íŒŒì¼ì—ì„œë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

